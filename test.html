<!DOCTYPE html>
<html><head>
<meta charset="UTF-8">
<title>CRUNCH Debug</title>
<script src="https://cdn.jsdelivr.net/npm/react@18.3.1/umd/react.development.min.js" crossorigin></script>
<script src="https://cdn.jsdelivr.net/npm/react-dom@18.3.1/umd/react-dom.development.min.js" crossorigin></script>
<script src="https://cdn.jsdelivr.net/npm/prop-types@15/prop-types.min.js" crossorigin></script>
<script src="https://cdn.jsdelivr.net/npm/recharts@2/umd/Recharts.min.js" crossorigin></script>
<script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7/babel.min.js" crossorigin></script>
</head>
<body>
<div id="root"></div>
<pre id="log" style="color:red;padding:20px;font-size:14px;"></pre>
<script>
// Capture errors
window.onerror = function(msg, url, line, col, err) {
  document.getElementById('log').textContent += 'ERROR: ' + msg + '\n  at line ' + line + ':' + col + '\n  ' + (err && err.stack ? err.stack.split('\n')[0] : '') + '\n\n';
};
window.addEventListener('unhandledrejection', function(e) {
  document.getElementById('log').textContent += 'PROMISE ERROR: ' + e.reason + '\n\n';
});
// Check globals after scripts load
window.addEventListener('load', function() {
  var log = document.getElementById('log');
  log.textContent += 'React: ' + (typeof React !== 'undefined' ? React.version : 'MISSING') + '\n';
  log.textContent += 'ReactDOM: ' + (typeof ReactDOM !== 'undefined' ? 'loaded' : 'MISSING') + '\n';
  log.textContent += 'ReactDOM.createRoot: ' + (typeof ReactDOM !== 'undefined' && ReactDOM.createRoot ? 'yes' : 'MISSING') + '\n';
  log.textContent += 'Recharts: ' + (typeof Recharts !== 'undefined' ? 'loaded' : 'MISSING') + '\n';
  log.textContent += 'Babel: ' + (typeof Babel !== 'undefined' ? 'loaded' : 'MISSING') + '\n';
  log.textContent += 'CostForecastApp: ' + (typeof CostForecastApp !== 'undefined' ? 'loaded' : 'NOT YET (check below)') + '\n';
  log.textContent += '\nWaiting 3s for Babel to finish transpiling...\n';
  setTimeout(function() {
    log.textContent += 'CostForecastApp (after wait): ' + (typeof window.CostForecastApp !== 'undefined' ? 'loaded' : 'STILL MISSING') + '\n';
    log.textContent += '#root innerHTML length: ' + document.getElementById('root').innerHTML.length + '\n';
  }, 3000);
});
</script>
<script type="text/babel" data-presets="react" src="cost_forecast.jsx"></script>
</body>
</html>
